# discord-notifi-bot
discordのボイスチャネルにメンバーが入室したら通知してくれるボット
## 背景
私の所属する学校では課題解決型学習（PBL）としてチームで課題を設定し，その課題を解決するためにアプリなどの開発を行っている．
例年はチームが一つの教室に集まり自由に議論や開発を行うことができるのだが，COVID-19の影響により2020年度より授業自体がフルリモートで実施されることとなった．
日々のやり取りにはSlack,会話にはTeamsを使用することとなった．
チームメンバーの中には開発の経験があまりない方などもいて，メンバー同士の技術力の差をコミュニケーションで補う必要があるのだが，すべてがオンラインということもあり気軽な質問がしづらくという問題点があった．
その点を解消するために，複数のボイスチャネルを作成でき，その行き来が簡単でかつ2人同時での画面共有も可能なdiscordを会話のためのツールとして使用することにした．  
そこで，次は誰がどこのチャネルに入っているのか通知された良さそうという話が上がってきた．
これは，例えば，誰かが雑談のチャネルに入ったとしたら他の人にも気づいてもらいやすくして，雑談のチャネルに人が集まって来やすくなるではということである．
特定のボイスチャネルにメンバーが入室したときに通知する機能はdiscordには標準でなかったので，専用のボットを作成することにした．
## 通知の仕組み
ボイスチャネルにメンバーがジョインするとdiscordのwebhookによりボット側で誰がどのチャネルにジョインしたのかがわかるので，それをテキストチャネルにチャネルのメンション付きで
> @everyone shuneiさんがミーティングルーム１で作業を開始しました
のようにメッセージを送信することで通知がされるようにした．
## 使い方
1. discordのAPIトークンを環境変数として`DISCORD_TOKEN`に登録する．
1. 通知をさせたいテキストチャネルのチャネルIDを環境変数として`DISCORD_CHANNEL_ID`に登録する．
1. スクリプトを実行する．
